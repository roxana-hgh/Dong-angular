import{a as Q,b as N}from"./chunk-UDUISN4K.js";import"./chunk-GFYZHMAX.js";import"./chunk-GMA7BCZF.js";import{a as O}from"./chunk-52JZBG57.js";import{$ as C,$a as R,Ea as b,G as i,Ia as e,Ja as t,K as B,Ka as T,L as j,Q as E,U as u,Za as F,_ as v,_a as A,aa as I,ba as k,ca as n,da as r,ea as c,hb as z,ia as M,ib as H,ka as w,kb as $,la as x,mb as q,r as h,s as g,sa as L,t as y,ta as V,u as _,ua as P,va as G,wa as o,xa as D,ya as l,za as f}from"./chunk-5JI43ALG.js";var X=["op"],Y=()=>["/group-member"],K=()=>["/new-group"],U=()=>["/summary"];function Z(a,s){if(a&1&&(n(0,"div",32)(1,"div",33)(2,"span",34),y(),n(3,"svg",35),c(4,"circle",36)(5,"path",37),r()()(),_(),n(6,"div")(7,"h6",38),o(8),r()()()),a&2){let p=s.$implicit;i(8),l(" ",p," ")}}function ee(a,s){if(a&1&&(n(0,"nav",16),I(1,Z,9,1,"div",32,C),r()),a&2){let p=x();i(),k(p.groupMembers)}}function te(a,s){if(a&1&&(n(0,"p",20),o(1),r()),a&2){let p=x();i(),l(" ",p.groupdetail.description," ")}}function ie(a,s){a&1&&(n(0,"p",20),o(1),e(2,"translate"),e(3,"async"),r()),a&2&&(i(),l(" ",t(3,3,t(2,1,"no_desctiption"))," "))}function ne(a,s){if(a&1){let p=M();n(0,"div",40)(1,"span",48),y(),n(2,"svg",49),c(3,"path",50),r()(),_(),n(4,"div",14)(5,"p",51),o(6),r(),n(7,"span",52),o(8),e(9,"translate"),e(10,"async"),r()(),n(11,"div",53)(12,"div",54)(13,"p",51),o(14),e(15,"number"),r(),n(16,"span",52),o(17),e(18,"translate"),e(19,"async"),r()(),n(20,"button",55),w("click",function(m){let S=h(p).$implicit,W=x(2);return g(W.toggle(m,S.id))}),c(21,"i",56),r()()()}if(a&2){let p=s.$implicit;i(6),l(" ",p.expenseName," "),i(2),f("",t(10,8,t(9,6,"split_between"))," ",p.splitBetween.join(" , "),""),i(6),l(" $ ",T(15,10,p.amount,"1.2-2")," "),i(3),f("",t(19,15,t(18,13,"paid_by"))," ",p.paidBy,"")}}function re(a,s){if(a&1){let p=M();n(0,"div",27)(1,"div",39),I(2,ne,22,17,"div",40,C),n(4,"p-popover",null,0)(6,"div",14)(7,"div")(8,"ul",41)(9,"li",42),w("click",function(){h(p);let m=G(5);return x().openEditExpense(),g(m.hide())}),n(10,"span",43),c(11,"i",44),o(12),e(13,"translate"),e(14,"async"),r()(),n(15,"li",45),w("click",function(){h(p);let m=G(5);return x().removeExpense(),g(m.hide())}),n(16,"span",43),c(17,"i",46),o(18),e(19,"translate"),e(20,"async"),r()()()()()()(),n(21,"div",47)(22,"button",30),o(23),e(24,"translate"),e(25,"async"),r(),n(26,"button",31),o(27),e(28,"translate"),e(29,"async"),r()()()}if(a&2){let p=x();i(2),k(p.expenses),i(10),l(" ",t(14,8,t(13,6,"edit")),""),i(6),l(" ",t(20,12,t(19,10,"remove")),""),i(4),u("routerLink",b(22,K)),i(),l(" ",t(25,16,t(24,14,"back_to_group_setup"))," "),i(3),u("routerLink",b(23,U)),i(),l(" ",t(29,20,t(28,18,"view_summary"))," ")}}function pe(a,s){a&1&&(n(0,"div",28)(1,"div",57),y(),n(2,"svg",58)(3,"g",59),c(4,"path",60)(5,"path",61),r()(),_(),n(6,"p",62),o(7),e(8,"translate"),e(9,"async"),r(),n(10,"p",63),o(11),e(12,"translate"),e(13,"async"),r(),n(14,"button",64)(15,"span",25),o(16),e(17,"translate"),e(18,"async"),r()()()()),a&2&&(i(7),l(" ",t(9,5,t(8,3,"no_expenses_added"))," "),i(4),l(" ",t(13,9,t(12,7,"no_expenses_added_description"))," "),i(5),D(t(18,13,t(17,11,"add_expense"))))}var J=class a{constructor(s,p){this.groupExpenseService=s;this.router=p}groupMembers=[];expenses=[];groupdetail={name:""};totalExpensesAmout=0;selectedExpenseId=null;op;ngOnInit(){this.groupMembers=this.groupExpenseService.getMembers().map(s=>s.name),this.groupdetail=this.groupExpenseService.getGroupDetails(),this.expenses=this.groupExpenseService.getExpenses(),this.calculateTotalAmount()}calculateTotalAmount(){this.expenses.forEach(s=>{this.totalExpensesAmout+=s.amount})}toggle(s,p){this.selectedExpenseId?(this.op.hide(),this.selectedExpenseId=null):(this.selectedExpenseId=p,this.op.show(s),this.op.container&&this.op.align())}openEditExpense(){if(this.selectedExpenseId===null)return;let s=this.selectedExpenseId;this.router.navigate(["edit-expense",s])}removeExpense(){if(this.selectedExpenseId===null)return;let s=this.selectedExpenseId;this.groupExpenseService.removeExpense(s),this.expenses=this.groupExpenseService.getExpenses()}static \u0275fac=function(p){return new(p||a)(B(O),B(z))};static \u0275cmp=j({type:a,selectors:[["app-group-dashboard"]],viewQuery:function(p,d){if(p&1&&L(X,5),p&2){let m;V(m=P())&&(d.op=m.first)}},decls:63,vars:63,consts:[["op",""],[1,"py-1","md:min-h-screen"],[1,"py-2","w-full","h-full"],[1,"grid","grid-cols-3","gap-3","items-start"],[1,"rounded-lg","col-span-3","md:col-span-1","order-last","md:order-first"],[1,"p-3","lg:px-4","lg:py-5","bg-primary","rounded-t-lg","border"],[1,"flex","gap-1","mb-2","items-center"],[1,"font-bold","text-xl","m-0","text-primary-contrast"],[1,"flex","items-center","justify-between","w-full"],[1,"text-xs","block","text-primary-contrast"],[1,"text-sm","block","text-primary-contrast"],[1,"p-4","shadow-sm","border","border-t-0","rounded-b-lg"],[1,"flex","items-center","justify-between","mb-2"],[1,"text-sm","font-semibold"],[1,""],[1,"text-xs","decoration-0","border-b","border-transparent","text-primary","hover:border-b-current",3,"routerLink"],[1,"flex","flex-col","overflow-y-auto","mt-2"],[1,"p-4","shadow-sm","mt-3","border","rounded-lg"],[1,"flex","items-center","justify-between","mb-2","w-full"],[1,"text-sm","m-0","font-bold"],[1,"text-sm","text-zinc-600","dark:text-zinc-400"],[1,"border","rounded-lg","col-span-3","md:col-span-2","p-3","lg:p-4","shadow-sm"],[1,"flex","items-center","justify-between","px-1","py-1","mb-1","md:mb-3"],[1,"text-base","m-0","font-bold"],["routerLink","/expenses",1,"rounded-full","bg-primary","text-primary-contrast","flex","px-3","py-1","justify-center","items-center","gap-2","text-center","text-xs","md:text-base","transition-all","active:shadow-none","cursor-pointer"],[1,"text-sm"],[1,"md:min-h-[250px]"],[1,"relative"],[1,"h-full"],[1,"flex","md:hidden","justify-between","gap-2","my-3","py-3","border-t"],["type","button",1,"bg-emphasis","rounded-full","w-full","lg:w-1/4","text-sm","py-2","px-3","flex","items-center","justify-center",3,"routerLink"],[1,"bg-primary","text-primary-contrast","rounded-full","w-full","lg:w-1/4","text-sm","py-2","px-4","flex","items-center","justify-center",3,"routerLink"],["role","button",1,"flex","w-full","items-center","px-0","py-2","transition-all","border-b","border-neutral-200","member-item"],[1,"me-3","grid","place-items-center"],[1,"avatar","bg-primary","text-primary-contrast","p-2","relative","rounded-full"],["xmlns","http://www.w3.org/2000/svg","width","14","height","14","viewBox","0 0 24 24"],["cx","12","cy","6","r","4","fill","currentColor"],["fill","currentColor","d","M20 17.5c0 2.485 0 4.5-8 4.5s-8-2.015-8-4.5S7.582 13 12 13s8 2.015 8 4.5"],[1,"text-sm","font-medium","m-0"],[1,"rounded-lg","mt-3","min-h-[180px]","md:min-h-[200px]"],[1,"p-1","py-2","lg:py-3","flex","items-center","gap-3","border-b","expense-item"],[1,"list-none","p-0","m-0","flex","flex-col"],[1,"cursor-pointer","border-b","py-2","hover:text-zinc-600",3,"click"],[1,"text-xs"],[1,"pi","pi-pen-to-square","text-sm","me-1"],[1,"cursor-pointer","py-2","hover:text-red-600",3,"click"],[1,"pi","pi-trash","text-sm","me-1"],[1,"hidden","md:flex","justify-between","gap-2","mt-3","pt-3","border-t"],[1,"icon","bg-primary-100","rounded-full","md:w-10","md:h-10","text-primary","dark:bg-primary-300/20","p-2","flex","justify-center","items-center"],["xmlns","http://www.w3.org/2000/svg","width","20","height","20","viewBox","0 0 32 32"],["fill","currentColor","d","M19.668 4.108a.5.5 0 0 0-.705.08L14.36 10h-2.551l5.587-7.054a2.5 2.5 0 0 1 3.522-.4l5.147 4.123a2.5 2.5 0 0 1 .522 3.33h-2.614l.907-1.052a.5.5 0 0 0-.066-.717L22.31 6.224L19.342 10h-2.544l3.95-5.026zM6 7a3 3 0 0 0-3 3v14.5A4.5 4.5 0 0 0 7.5 29h17a4.5 4.5 0 0 0 4.5-4.5v-9a4.5 4.5 0 0 0-4.5-4.5H6a1 1 0 1 1 0-2h4.58l1.596-2zm15 12h3a1 1 0 1 1 0 2h-3a1 1 0 1 1 0-2"],[1,"m-0","font-bold","text-sm","md:text-base"],[1,"text-muted","text-xs","hidden","md:block"],[1,"flex","justify-self-end","ms-auto"],[1,"text-end"],["type","button",1,"text-muted-color","text-sm","p-0","ms-2",3,"click"],[1,"pi","pi-ellipsis-v"],[1,"flex","flex-col","items-center","justify-center","gap-2","min-h-[210px]","py-4"],["xmlns","http://www.w3.org/2000/svg","width","32","height","32","viewBox","0 0 24 24",1,"text-neutral-400","mb-2"],["fill","none","stroke","currentColor","stroke-linecap","round","stroke-linejoin","round","stroke-width","1.5","color","currentColor"],["d","M6.79 6.833C5.18 6.553 3.881 6.26 3 6v9.061c0 1.995 0 2.992.62 3.805s1.47 1.043 3.17 1.503c2.746.742 5.634 1.184 8.22 1.437c2.682.262 4.022.393 5.006-.506q.297-.271.484-.619M11 7.5c1.254.145 2.597.205 4.004.303c2.921.202 4.382.304 5.189 1.174S21 11.25 21 14.055v2.013q0 .495-.002.932M3 6c0-.838.385-1.603 1-2"],["d","M17.626 8c.377-1.423.719-4.012-.298-5.297c-.643-.813-1.6-.737-2.54-.654c-3.222.284-5.826.759-7.788 1.221M2 2l20 20"],[1,"text-muted","mb-0","text-lg","font-semibold"],[1,"text-muted-color","text-sm","mb-1"],["routerLink","/expenses",1,"text-primary","flex","p-0","justify-center","items-center","text-center","text-sm","transition-all","border-b","border-transparent","hover:border-b-current","cursor-pointer"]],template:function(p,d){p&1&&(n(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4)(4,"div",5)(5,"div",6)(6,"h5",7),o(7),r()(),n(8,"div",8)(9,"span",9),o(10),e(11,"translate"),e(12,"async"),r(),n(13,"span",10)(14,"small"),o(15),e(16,"translate"),e(17,"async"),e(18,"number"),r()()()(),n(19,"div",11)(20,"div",12)(21,"h6",13),o(22),e(23,"translate"),e(24,"async"),n(25,"span",14),o(26),r()(),n(27,"a",15),o(28),e(29,"translate"),e(30,"async"),r()(),E(31,ee,3,0,"nav",16),r(),n(32,"div",17)(33,"div",18)(34,"h3",19),o(35),e(36,"translate"),e(37,"async"),r()(),E(38,te,2,1,"p",20)(39,ie,4,5,"p",20),r()(),n(40,"div",21)(41,"div",22)(42,"h1",23),o(43),e(44,"translate"),e(45,"async"),r(),n(46,"button",24)(47,"span",25),o(48),e(49,"translate"),e(50,"async"),r()()(),n(51,"div",26),E(52,re,30,24,"div",27)(53,pe,19,15,"div",28),r()()(),n(54,"div",29)(55,"button",30),o(56),e(57,"translate"),e(58,"async"),r(),n(59,"button",31),o(60),e(61,"translate"),e(62,"async"),r()()()()),p&2&&(i(7),l(" ",d.groupdetail.name," "),i(3),f("",d.groupMembers.length," ",t(12,23,t(11,21,"members")),""),i(5),f("",t(17,27,t(16,25,"total_amount"))," $",T(18,29,d.totalExpensesAmout,"1.2-2"),""),i(7),l(" ",t(24,34,t(23,32,"members")),""),i(4),l("(",d.groupMembers.length,")"),i(),u("routerLink",b(60,Y)),i(),l(" ",t(30,38,t(29,36,"add_member")),""),i(3),v(d.groupMembers.length>0?31:-1),i(4),l(" ",t(37,42,t(36,40,"description"))," "),i(3),v(d.groupdetail.description?38:-1),i(),v(d.groupdetail.description?-1:39),i(4),l(" ",t(45,46,t(44,44,"expenses_list"))," "),i(5),D(t(50,50,t(49,48,"add_expense"))),i(4),v(d.expenses.length>0?52:-1),i(),v(d.expenses.length?-1:53),i(2),u("routerLink",b(61,K)),i(),l(" ",t(58,54,t(57,52,"back_to_group_setup"))," "),i(3),u("routerLink",b(62,U)),i(),l(" ",t(62,58,t(61,56,"view_summary"))," "))},dependencies:[$,H,F,q,N,Q,R,A],styles:[".member-item[_ngcontent-%COMP%]:last-of-type, .expense-item[_ngcontent-%COMP%]:last-of-type{border-bottom:none!important}"]})};export{J as GroupDashboardComponent};
